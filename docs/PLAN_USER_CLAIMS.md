# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –∑–∞—è–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CoreData –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
- –ï—Å—Ç—å –º–æ–¥–µ–ª—å User, PlayerProfile, PlayerAlias
- –°–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–æ–∫ (claims) –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ –≤ Phase 2, –Ω–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Å–∏—Å—Ç–µ–º–µ
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** –ü—É–±–ª–∏—á–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (100+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π) —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

---

## –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (CoreData) ‚ö†Ô∏è –¢–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è

> **–°—Ç–∞—Ç—É—Å:** –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production, —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏

### –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –ª–æ–∫–∞–ª—å–Ω–æ, –¥–æ–±–∞–≤–∏–≤ —Å–∏—Å—Ç–µ–º—É –∑–∞—è–≤–æ–∫ –≤ CoreData –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

### –ü–ª—é—Å—ã
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- ‚úÖ –ù–µ –Ω—É–∂–µ–Ω Apple Developer –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏

### –ú–∏–Ω—É—Å—ã
- ‚ùå –ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- ‚ùå –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∑–∞—è–≤–æ–∫ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚ùå –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

#### 1. –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å PlayerClaim –≤ CoreData (1 –¥–µ–Ω—å)

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `PokerCardRecognizer.xcdatamodeld/PokerCardRecognizer.xcdatamodel/contents` - –¥–æ–±–∞–≤–∏—Ç—å entity PlayerClaim

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥–µ–ª–∏:**
```swift
PlayerClaim:
  - claimId: UUID (PK)
  - playerName: String - –∏–º—è –∏–≥—Ä–æ–∫–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ–¥–∞–µ—Ç—Å—è –∑–∞—è–≤–∫–∞
  - claimantUserId: UUID - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –ø–æ–¥–∞—é—â–∏–π –∑–∞—è–≤–∫—É
  - status: String - "pending" | "approved" | "rejected"
  - createdAt: Date
  - resolvedAt: Date?
  - resolvedByUserId: UUID? - –∫—Ç–æ —Ä–∞–∑—Ä–µ—à–∏–ª –∑–∞—è–≤–∫—É
  - notes: String? - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏
```

**–°–≤—è–∑–∏:**
- `claimantUser: User` (many-to-one)
- `resolvedByUser: User?` (many-to-one, optional)

#### 2. –°–æ–∑–¥–∞—Ç—å PlayerClaimService (2-3 –¥–Ω—è)

**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `PokerCardRecognizer/Services/PlayerClaimService.swift`

**–ú–µ—Ç–æ–¥—ã:**
- `submitClaim(playerName: String, userId: UUID) throws -> PlayerClaim`
- `getPendingClaims(forUserId: UUID) -> [PlayerClaim]`
- `getMyClaims(userId: UUID) -> [PlayerClaim]`
- `approveClaim(claimId: UUID, resolverUserId: UUID, notes: String?) throws`
- `rejectClaim(claimId: UUID, resolverUserId: UUID, notes: String?) throws`
- `getUnclaimedPlayerNames() -> [String]`

**–õ–æ–≥–∏–∫–∞:**
- –ü—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏: –º–∏–≥—Ä–∞—Ü–∏—è GameWithPlayer –Ω–∞ PlayerProfile –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ PlayerProfile
- –°–æ–∑–¥–∞–Ω–∏–µ PlayerAlias –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

#### 3. –°–æ–∑–¥–∞—Ç—å UI –¥–ª—è –∑–∞—è–≤–æ–∫ (3-4 –¥–Ω—è)

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `PokerCardRecognizer/Views/ClaimPlayerView.swift` - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –¥–ª—è –∑–∞—è–≤–∫–∏
- `PokerCardRecognizer/Views/PendingClaimsView.swift` - —Å–ø–∏—Å–æ–∫ –æ–∂–∏–¥–∞—é—â–∏—Ö –∑–∞—è–≤–æ–∫
- `PokerCardRecognizer/Views/ClaimDetailView.swift` - –¥–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏ —Å –∫–Ω–æ–ø–∫–∞–º–∏ approve/reject

**ViewModels:**
- `PokerCardRecognizer/ViewModels/ClaimPlayerViewModel.swift`
- `PokerCardRecognizer/ViewModels/PendingClaimsViewModel.swift`

#### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏ (2 –¥–Ω—è)

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `PokerCardRecognizer/Services/GameService.swift` - –æ–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏
- `PokerCardRecognizer/Models/CoreData/PlayerProfile+CoreDataProperties.swift` - –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

**–ó–∞–¥–∞—á–∏:**
- –û–±–Ω–æ–≤–∏—Ç—å PlayerProfile –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏
- –ú–∏–≥—Ä–∞—Ü–∏—è GameWithPlayer –Ω–∞ PlayerProfile
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### –ò—Ç–æ–≥–æ: 8-10 –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: CloudKit (Apple Developer) ‚≠ê –¢–ï–ö–£–©–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢

> **–°—Ç–∞—Ç—É—Å:** –†–µ–∞–ª–∏–∑—É–µ–º —Å–µ–π—á–∞—Å. –ü–æ–∑–∂–µ –º–∏–≥—Ä–∏—Ä—É–µ–º –Ω–∞ –≤–∞—Ä–∏–∞–Ω—Ç 3.

### ‚ö†Ô∏è –í–ê–ñ–ù–û: –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–î–ª—è Phase 2 (CloudKit) –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Ç—Ä–µ–±—É–µ—Ç—Å—è:**
- ‚úÖ **–ü–ª–∞—Ç–Ω—ã–π Apple Developer –∞–∫–∫–∞—É–Ω—Ç ($99/–≥–æ–¥)**
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ Apple Developer Portal
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å CloudKit Container

**–ë–µ–∑ –ø–ª–∞—Ç–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞:**
- ‚ùå –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å CloudKit Container
- ‚ùå –ù–µ–ª—å–∑—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å CloudKit –≤ production
- ‚ùå –ù–µ–ª—å–∑—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –µ—Å–ª–∏ –Ω–µ—Ç –ø–ª–∞—Ç–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞:**
1. –ù–∞—á–∞—Ç—å —Å **–í–∞—Ä–∏–∞–Ω—Ç–∞ 1** (–ª–æ–∫–∞–ª—å–Ω–æ) –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ –∑–∞—è–≤–æ–∫
2. –°—Ä–∞–∑—É –ø–µ—Ä–µ–π—Ç–∏ –∫ **–í–∞—Ä–∏–∞–Ω—Ç—É 3** (–±—ç–∫–µ–Ω–¥) - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç Apple Developer –∞–∫–∫–∞—É–Ω—Ç

### –û–ø–∏—Å–∞–Ω–∏–µ
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CloudKit –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏. –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–ª–∞—Ç–Ω—ã–π Apple Developer –∞–∫–∫–∞—É–Ω—Ç ($99/–≥–æ–¥).

### –ü–ª—é—Å—ã
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ iCloud
- ‚úÖ –ù–µ –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ú–∏–Ω—É—Å—ã
- ‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–ª–∞—Ç–Ω—ã–π Apple Developer –∞–∫–∫–∞—É–Ω—Ç ($99/–≥–æ–¥)
- ‚ùå –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ Apple
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è CloudKit (–∑–∞–ø—Ä–æ—Å—ã, —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
- ‚ùå –°–ª–æ–∂–Ω–µ–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –∑–∞—è–≤–æ–∫
- ‚ùå –ù–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏

### –ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

#### 1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CloudKit –≤ –ø—Ä–æ–µ–∫—Ç–µ (1 –¥–µ–Ω—å)

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `PokerCardRecognizer.xcodeproj/project.pbxproj` - –¥–æ–±–∞–≤–∏—Ç—å CloudKit capability
- –°–æ–∑–¥–∞—Ç—å CloudKit Container –≤ Apple Developer Portal

**–ó–∞–¥–∞—á–∏:**
- –°–æ–∑–¥–∞—Ç—å CloudKit Container (–Ω–∞–ø—Ä–∏–º–µ—Ä, `iCloud.com.yourdomain.PokerCardRecognizer`)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Capabilities –≤ Xcode: CloudKit + iCloud Documents
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å App Groups –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
- –°–æ–∑–¥–∞—Ç—å CloudKit —Å—Ö–µ–º—É –≤ CloudKit Dashboard

**CloudKit Records:**
- `CKUser` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `CKGame` - –∏–≥—Ä—ã
- `CKPlayerProfile` - –ø—Ä–æ—Ñ–∏–ª–∏ –∏–≥—Ä–æ–∫–æ–≤
- `CKPlayerAlias` - –∞–ª–∏–∞—Å—ã
- `CKPlayerClaim` - –∑–∞—è–≤–∫–∏ (–Ω–æ–≤–∞—è)
- `CKGameWithPlayer` - —É—á–∞—Å—Ç–∏–µ –≤ –∏–≥—Ä–∞—Ö

#### 2. –ú–∏–≥—Ä–∞—Ü–∏—è CoreData ‚Üí CloudKit (4-5 –¥–Ω–µ–π)

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `PokerCardRecognizer/Services/CloudKitService.swift` - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å CloudKit
- `PokerCardRecognizer/Services/CloudKitSyncService.swift` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è CoreData ‚Üî CloudKit

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `PokerCardRecognizer/Persistence.swift` - –¥–æ–±–∞–≤–∏—Ç—å CloudKit —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
- `PokerCardRecognizer/Models/CoreData/` - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ CKRecord

**–ó–∞–¥–∞—á–∏:**
- –°–æ–∑–¥–∞—Ç—å CKRecord extensions –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é CoreData ‚Üî CloudKit
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ CKDatabase
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞ (–ª–æ–∫–∞–ª—å–Ω—ã–π –∫–µ—à –≤ CoreData)

**–ú–µ—Ç–æ–¥—ã CloudKitService:**
```swift
- fetchUserRecords() async throws -> [CKRecord]
- saveUserRecord(_ record: CKRecord) async throws
- fetchGameRecords(since: Date?) async throws -> [CKRecord]
- saveGameRecord(_ record: CKRecord) async throws
- fetchPlayerClaimRecords(status: String?) async throws -> [CKRecord]
- savePlayerClaimRecord(_ record: CKRecord) async throws
```

#### 3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∑–∞—è–≤–æ–∫ –≤ CloudKit (3-4 –¥–Ω—è)

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `PokerCardRecognizer/Services/PlayerClaimService.swift` - –æ–±–Ω–æ–≤–∏—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å CloudKit
- `PokerCardRecognizer/Models/CloudKit/PlayerClaimRecord.swift` - CKRecord –¥–ª—è –∑–∞—è–≤–æ–∫

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `PokerCardRecognizer/Services/CloudKitService.swift` - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –¥–ª—è –∑–∞—è–≤–æ–∫

**–ó–∞–¥–∞—á–∏:**
- –°–æ–∑–¥–∞—Ç—å PlayerClaim CKRecord —Å—Ö–µ–º—É
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–∞—á—É –∑–∞—è–≤–∫–∏ —á–µ—Ä–µ–∑ CloudKit
- CloudKit subscriptions –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–∫–∞—Ö
- –õ–æ–≥–∏–∫–∞ –æ–¥–æ–±—Ä–µ–Ω–∏—è/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ CloudKit
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞—è–≤–æ–∫ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

**CloudKit Subscriptions:**
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –Ω–æ–≤—ã–µ –∑–∞—è–≤–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–æ–∫
- Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ CloudKit

**–ú–µ—Ç–æ–¥—ã PlayerClaimService:**
```swift
- submitClaim(playerName: String, userId: UUID) async throws -> PlayerClaim
- getPendingClaims(forUserId: UUID) async throws -> [PlayerClaim]
- getMyClaims(userId: UUID) async throws -> [PlayerClaim]
- approveClaim(claimId: UUID, resolverUserId: UUID, notes: String?) async throws
- rejectClaim(claimId: UUID, resolverUserId: UUID, notes: String?) async throws
```

#### 4. UI –¥–ª—è –∑–∞—è–≤–æ–∫ (3-4 –¥–Ω—è)

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `PokerCardRecognizer/Views/ClaimPlayerView.swift` - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
- `PokerCardRecognizer/Views/PendingClaimsView.swift` - —Å–ø–∏—Å–æ–∫ –æ–∂–∏–¥–∞—é—â–∏—Ö –∑–∞—è–≤–æ–∫
- `PokerCardRecognizer/Views/ClaimDetailView.swift` - –¥–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏
- `PokerCardRecognizer/ViewModels/ClaimPlayerViewModel.swift`
- `PokerCardRecognizer/ViewModels/PendingClaimsViewModel.swift`

**–ó–∞–¥–∞—á–∏:**
- UI –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–æ–∫
- UI –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∑–∞—è–≤–æ–∫
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ CloudKit

#### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (2-3 –¥–Ω—è)

**–ó–∞–¥–∞—á–∏:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ CloudKit
- –û–±—Ä–∞–±–æ—Ç–∫–∞ rate limits CloudKit
- Unit —Ç–µ—Å—Ç—ã –¥–ª—è CloudKit —Å–µ—Ä–≤–∏—Å–æ–≤

### –ò—Ç–æ–≥–æ: 13-17 –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ + $99/–≥–æ–¥ Apple Developer

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- [ ] CloudKit Container –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è CoreData ‚Üî CloudKit —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ CloudKit
- [ ] UI –¥–ª—è –∑–∞—è–≤–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Unit —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã

---

## –í–∞—Ä–∏–∞–Ω—Ç 3: –û—Ç–¥–µ–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥ (FastAPI + PostgreSQL) üîÑ –ë–£–î–£–©–ê–Ø –ú–ò–ì–†–ê–¶–ò–Ø

> **–°—Ç–∞—Ç—É—Å:** –†–µ–∞–ª–∏–∑—É–µ–º –ø–æ—Å–ª–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞ 2, –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã—Ä–∞—Å—Ç–µ—Ç

### –û–ø–∏—Å–∞–Ω–∏–µ
–°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –±—ç–∫–µ–Ω–¥ –Ω–∞ FastAPI —Å PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

### –ü–ª—é—Å—ã
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ª–æ–≥–∏–∫–æ–π –∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å Android/Web –ø–æ–∑–∂–µ)
- ‚úÖ –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–æ–∫ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç Apple

### –ú–∏–Ω—É—Å—ã
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
- ‚ùå –ù—É–∂–Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—Ö–æ—Å—Ç–∏–Ω–≥ –ë–î, —Å–µ—Ä–≤–µ—Ä)
- ‚ùå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ ($5-20/–º–µ—Å)

### –ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

#### Backend (FastAPI) - 3-4 –Ω–µ–¥–µ–ª–∏

**1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (2-3 –¥–Ω—è)**
- –°–æ–∑–¥–∞—Ç—å FastAPI –ø—Ä–æ–µ–∫—Ç –≤ `poker-api/`
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Alembic –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Docker –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**2. –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (SQLAlchemy) (3-4 –¥–Ω—è)**
- User, Game, Player, PlayerProfile, PlayerAlias
- PlayerClaim (–Ω–æ–≤–∞—è –º–æ–¥–µ–ª—å)
- –°–≤—è–∑–∏ –∏ –∏–Ω–¥–µ–∫—Å—ã

**3. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT) (3-4 –¥–Ω—è)**
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–ª–æ–≥–∏–Ω
- JWT —Ç–æ–∫–µ–Ω—ã
- Refresh tokens
- –ó–∞—â–∏—Ç–∞ endpoints

**4. API –¥–ª—è –∑–∞—è–≤–æ–∫ (4-5 –¥–Ω–µ–π)**
- `POST /api/v1/claims` - –ø–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏
- `GET /api/v1/claims/pending` - —Å–ø–∏—Å–æ–∫ –æ–∂–∏–¥–∞—é—â–∏—Ö –∑–∞—è–≤–æ–∫
- `GET /api/v1/claims/my` - –º–æ–∏ –∑–∞—è–≤–∫–∏
- `POST /api/v1/claims/{id}/approve` - –æ–¥–æ–±—Ä–∏—Ç—å
- `POST /api/v1/claims/{id}/reject` - –æ—Ç–∫–ª–æ–Ω–∏—Ç—å
- `GET /api/v1/players/unclaimed` - —Å–ø–∏—Å–æ–∫ –Ω–µ–ø—Ä–∏—Å–≤–æ–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤

**5. API –¥–ª—è –∏–≥—Ä –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (3-4 –¥–Ω—è)**
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–≥—Ä —Å —Å–µ—Ä–≤–µ—Ä–æ–º
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**6. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (2-3 –¥–Ω—è)**
- WebSocket –∏–ª–∏ Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–∫–∞—Ö

#### iOS Integration - 2-3 –Ω–µ–¥–µ–ª–∏

**1. Repository Pattern (3-4 –¥–Ω—è)**
- –°–æ–∑–¥–∞—Ç—å `Repository` –ø—Ä–æ—Ç–æ–∫–æ–ª
- `LocalRepository` (CoreData)
- `RemoteRepository` (API)
- `SyncRepository` (–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)

**2. APIClient (3-4 –¥–Ω—è)**
- HTTP –∫–ª–∏–µ–Ω—Ç –Ω–∞ URLSession
- JWT —Ç–æ–∫–µ–Ω management
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- Retry –ª–æ–≥–∏–∫–∞

**3. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (4-5 –¥–Ω–µ–π)**
- –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

**4. UI –¥–ª—è –∑–∞—è–≤–æ–∫ (3-4 –¥–Ω—è)**
- ClaimPlayerView
- PendingClaimsView
- ClaimDetailView
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Repository

**5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 –¥–Ω—è)**
- Unit —Ç–µ—Å—Ç—ã
- Integration —Ç–µ—Å—Ç—ã
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

#### Deployment - 1 –Ω–µ–¥–µ–ª—è

**1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ö–æ—Å—Ç–∏–Ω–≥–∞ (2-3 –¥–Ω—è)**
- Railway.app –∏–ª–∏ DigitalOcean
- PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- Environment variables
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

**2. CI/CD (2-3 –¥–Ω—è)**
- GitHub Actions
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π deploy
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ deploy

### –ò—Ç–æ–≥–æ: 6-8 –Ω–µ–¥–µ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ + $5-20/–º–µ—Å —Ö–æ—Å—Ç–∏–Ω–≥

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–¢–µ–∫—É—â–∏–π –ø–ª–∞–Ω:** –†–µ–∞–ª–∏–∑—É–µ–º **–í–∞—Ä–∏–∞–Ω—Ç 2 (CloudKit)** —Å–µ–π—á–∞—Å, –∑–∞—Ç–µ–º –º–∏–≥—Ä–∏—Ä—É–µ–º –Ω–∞ **–í–∞—Ä–∏–∞–Ω—Ç 3 (–±—ç–∫–µ–Ω–¥)** –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã—Ä–∞—Å—Ç–µ—Ç.

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
2. –ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–∞ —Å—Ç–∞—Ä—Ç–µ
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
4. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–µ–µ
5. –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –±—ç–∫–µ–Ω–¥ –±—É–¥–µ—Ç –ø—Ä–æ—â–µ, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –ø–æ–Ω—è—Ç–Ω–∞ –ø–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∞–≥–µ–Ω—Ç–∞

### –î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –í–∞—Ä–∏–∞–Ω—Ç–∞ 1 (–ª–æ–∫–∞–ª—å–Ω–æ):
```
–ò—Å–ø–æ–ª—å–∑—É–π —Ä–∞–∑–¥–µ–ª "–í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (CoreData)" –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞.
–°–ª–µ–¥—É–π –ø–ª–∞–Ω—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ —à–∞–≥–∞–º 1-4.
```

### –î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –í–∞—Ä–∏–∞–Ω—Ç–∞ 2 (CloudKit) - –¢–ï–ö–£–©–ò–ô:
```
–ò—Å–ø–æ–ª—å–∑—É–π —Ä–∞–∑–¥–µ–ª "–í–∞—Ä–∏–∞–Ω—Ç 2: CloudKit (Apple Developer)" –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞.
–°–ª–µ–¥—É–π –ø–ª–∞–Ω—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ —à–∞–≥–∞–º 1-5.
–≠—Ç–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
```

### –î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –í–∞—Ä–∏–∞–Ω—Ç–∞ 3 (–±—ç–∫–µ–Ω–¥):
```
–ò—Å–ø–æ–ª—å–∑—É–π —Ä–∞–∑–¥–µ–ª "–í–∞—Ä–∏–∞–Ω—Ç 3: –û—Ç–¥–µ–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥ (FastAPI + PostgreSQL)" –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞.
–°–ª–µ–¥—É–π –ø–ª–∞–Ω—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è Backend, iOS Integration –∏ Deployment.
–≠—Ç–æ –±—É–¥—É—â–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –ø–æ—Å–ª–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞ 2.
```

